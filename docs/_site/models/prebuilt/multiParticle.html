<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li:not(:nth-child(4)) > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(7) > ul > li:nth-child(2) > ul > li:nth-child(4) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(7) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(7) > ul > li:nth-child(2) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(7) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(7) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/assets/images/logo.png" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Multi Particle Process | ViennaPS Documentation</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Multi Particle Process" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="The documentation for ViennaPS" /> <meta property="og:description" content="The documentation for ViennaPS" /> <link rel="canonical" href="http://localhost:4000/models/prebuilt/multiParticle.html" /> <meta property="og:url" content="http://localhost:4000/models/prebuilt/multiParticle.html" /> <meta property="og:site_name" content="ViennaPS Documentation" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Multi Particle Process" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"The documentation for ViennaPS","headline":"Multi Particle Process","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/logo.png"}},"url":"http://localhost:4000/models/prebuilt/multiParticle.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"><img src="/assets/images/logo.png" alt="Logo" class="logo"><pre> </pre><p style="color:rgb(0, 80, 119);font-size:140%;">ViennaPS</p></a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/deps/" class="nav-list-link">Dependencies</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Installing the Library category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/inst/" class="nav-list-link">Installing the Library</a><ul class="nav-list"><li class="nav-list-item"><a href="/inst/gpu.html" class="nav-list-link">GPU Module</a></li><li class="nav-list-item"><a href="/inst/troubleshooting.html" class="nav-list-link">Troubleshooting</a></li></ul></li><li class="nav-list-item"><a href="/general/" class="nav-list-link">General Notes</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Simulation Domain category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/domain/" class="nav-list-link">Simulation Domain</a><ul class="nav-list"><li class="nav-list-item"><a href="/domain/surface.html" class="nav-list-link">Surface and Material Interfaces</a></li><li class="nav-list-item"><a href="/domain/volume.html" class="nav-list-link">Volume</a></li><li class="nav-list-item"><a href="/domain/material.html" class="nav-list-link">Material Mapping</a></li><li class="nav-list-item"><a href="/domain/functions.html" class="nav-list-link">Member Functions</a></li><li class="nav-list-item"><a href="/domain/setup.html" class="nav-list-link">Domain Setup</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Creating a Geometry category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/geo/" class="nav-list-link">Creating a Geometry</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Geometry Builders category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/geo/basic/" class="nav-list-link">Geometry Builders</a><ul class="nav-list"><li class="nav-list-item"> <a href="/geo/basic/plane.html" class="nav-list-link">Plane Geometry</a> </li><li class="nav-list-item"> <a href="/geo/basic/trench.html" class="nav-list-link">Trench Geometry</a> </li><li class="nav-list-item"> <a href="/geo/basic/hole.html" class="nav-list-link">Hole Geometry</a> </li><li class="nav-list-item"> <a href="/geo/basic/fin.html" class="nav-list-link">Fin Geometry</a> </li><li class="nav-list-item"> <a href="/geo/basic/stack.html" class="nav-list-link">Stack Geometry</a> </li></ul></li><li class="nav-list-item"><a href="/geo/custom.html" class="nav-list-link">Custom Geometry</a></li><li class="nav-list-item"><a href="/geo/gdsimport.html" class="nav-list-link">GDS File Import</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Process Models category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/models/" class="nav-list-link">Process Models</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Custom Models category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/models/custom/" class="nav-list-link">Custom Models</a><ul class="nav-list"><li class="nav-list-item"> <a href="/models/custom/surfaceModel.html" class="nav-list-link">Surface Model</a> </li><li class="nav-list-item"> <a href="/models/custom/velocityField.html" class="nav-list-link">Velocity Field</a> </li><li class="nav-list-item"> <a href="/models/custom/particle.html" class="nav-list-link">Particles - Flux Calculation</a> </li><li class="nav-list-item"> <a href="/models/custom/sourceDirection.html" class="nav-list-link">Primary Source Direction</a> </li><li class="nav-list-item"> <a href="/models/custom/advectionCallback.html" class="nav-list-link">Advection Callback</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Pre-Built Models category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/models/prebuilt/" class="nav-list-link">Pre-Built Models</a><ul class="nav-list"><li class="nav-list-item"> <a href="/models/prebuilt/isotropic.html" class="nav-list-link">Isotropic Process</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/directional.html" class="nav-list-link">Directional Process</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/singleParticle.html" class="nav-list-link">Single Particle Process</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/multiParticle.html" class="nav-list-link">Multi Particle Process</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/SF6O2Etching.html" class="nav-list-link">SF<sub>6</sub>O<sub>2</sub> Etching</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/TEOS.html" class="nav-list-link">TEOS Deposition</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/TEOSPECVD.html" class="nav-list-link">TEOS PE CVD Process</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/fluorocarbonEtching.html" class="nav-list-link">Fluorocarbon Etching</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/IBE.html" class="nav-list-link">Ion Beam Etching</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/wetEtching.html" class="nav-list-link">Wet Etching</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/selectiveEpitaxy.html" class="nav-list-link">Selective Epitaxy</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="/process/" class="nav-list-link">Running a Process</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Geometry Output category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/output/" class="nav-list-link">Geometry Output</a><ul class="nav-list"><li class="nav-list-item"><a href="/output/levelset.html" class="nav-list-link">Level Set</a></li><li class="nav-list-item"><a href="/output/surface.html" class="nav-list-link">Surface Mesh</a></li><li class="nav-list-item"><a href="/output/volume.html" class="nav-list-link">Volume Mesh</a></li><li class="nav-list-item"><a href="/output/metadata.html" class="nav-list-link">VTK Metadata Export</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Miscellaneous category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/misc/" class="nav-list-link">Miscellaneous</a><ul class="nav-list"><li class="nav-list-item"><a href="/misc/planarize.html" class="nav-list-link">Planarize Geometry</a></li><li class="nav-list-item"><a href="/misc/extrusion.html" class="nav-list-link">Geometry Extrusion</a></li><li class="nav-list-item"><a href="/misc/logging.html" class="nav-list-link">Logging</a></li><li class="nav-list-item"><a href="/misc/units.html" class="nav-list-link">Units</a></li></ul></li><li class="nav-list-item"><a href="/examples/" class="nav-list-link">Examples</a></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/ViennaTools/ViennaPS" class="nav-list-link external" > ViennaPS on Github <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search ViennaPS Documentation" aria-label="Search ViennaPS Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/ViennaTools/ViennaPS" class="site-button" > ViennaPS on Github </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/models/">Process Models</a></li> <li class="breadcrumb-nav-list-item"><a href="/models/prebuilt/">Pre-Built Models</a></li> <li class="breadcrumb-nav-list-item"><span>Multi Particle Process</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <script> MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] } }; </script> <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <h1 class="fs-9 fw-500" id="multi-particle-process"> <a href="#multi-particle-process" class="anchor-heading" aria-labelledby="multi-particle-process"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Multi Particle Process </h1> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;psMultiParticleProcess.hpp&gt;</span><span class="cp">
</span></code></pre></div></div><hr /> <p>The multi particle process is a simple process model that simulates either etching or deposition, where an arbitrary number of particles can be specified. The particles can be neutral or ions, and the model can be used to simulate a wide range of processes. The rate equation for combining the fluxes of the particles has to be provided by the user.</p> <h2 id="neutral-particles"> <a href="#neutral-particles" class="anchor-heading" aria-labelledby="neutral-particles"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Neutral Particles </h2> <p>Neutral particles are characterized by their sticking probability, which quantifies the likelihood that a neutral particle will adhere to a surface upon impact. This probability ranges between 0 and 1, where:</p> <ul> <li>A sticking probability of 1 indicates that the particle will always stick to the surface.</li> <li>A sticking probability of 0 indicates that the particle will always be reflected.</li> </ul> <p>The sticking probability determines the reflection behavior of neutral particles and can be defined specifically for each material within the domain.</p> <h2 id="ion-particles"> <a href="#ion-particles" class="anchor-heading" aria-labelledby="ion-particles"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Ion Particles </h2> <p>Ion particles are defined by their source exponent, which is the exponent of the power cosine distribution for the initial directions of the ions. The source exponent defines the distribution of the initial directions of the ions. A source exponent of 1 means that the ions are emitted isotropically, while a source exponent of 1000 means that the ions are emitted mostly perpendicular to the surface.</p> <p>The ion sticking function is defined by the parameters $\theta_{min}$ and $\theta_{max}$. The ion sticking function is a function of the incoming angle $\theta$ that defines the probability that an ion will stick to the surface upon impact. The ion sticking function is a linear function defined as:</p> \[S(\theta) = \begin{cases} 0 &amp; \text{if } \theta &lt; \theta_{min} \\ 1 &amp; \text{if } \theta &gt; \theta_{max} \\ \frac{\theta - \theta_{min}}{\theta_{max} - \theta_{min}} &amp; \text{otherwise} \end{cases}\] <p>Ions striking the surface at an angle denoted by $\theta$ relative to the surface normal undergo reflection, where the angular dispersion is characterized by a cosine function centered around the direction of specular reflection defined by $\theta_\textrm{spec}$. This reflection process distinguishes between ions approaching the surface at glancing angles, which undergo nearly perfect specular reflection, and those striking the surface perpendicularly, which undergo nearly diffuse reflection. The ray’s reflected direction is randomly chosen from a cone around the specular direction. The opening angle of this cone is given by the incidence angle $\theta$ or the minimum specified angle $\theta_{min}$.</p> <p><img src="/assets/images/coned_specular.png" alt="drawing" width="500" class="center" /></p> <p><strong>Optional Parameters</strong>:</p> <p>Ion can be assigned an energy which can be used to calculate a surface yield. This feature can be activated by setting the mean energy &gt; 0 and is deactivated by setting the mean energy = 0. The energy distribution of the ions is assumed to be Gaussian with a standard deviation of sigmaEnergy. The threshold energy is the energy below which the ion will not sputter the surface, and the energy dependent yield is defined as:</p> \[Y(E) = \begin{cases} 0 &amp; \text{if } E &lt; E_{\textrm{threshold}} \\ \sqrt{E} - \sqrt{E_{\textrm{threshold}}} &amp; \text{if } E \geq E_{\textrm{threshold}} \end{cases}\] <p>The inflection angle and n are parameters of the ion energy reduction function, which is used to calculate the energy after reflection. The ion energy reduction function is defined as:</p> \[E_{\textrm{ref}}= \begin{cases} 1-(1-A)\frac{\frac{\pi}{2}-\theta}{\frac{\pi}{2}-\theta_\textrm{inflect}} &amp; \text{ if } \theta \geqslant \theta_\textrm{inflect} \\ \mathrm{A}\left(\frac{\theta}{\theta_\textrm{inflect}}\right)^{n_l} &amp; \text{ if } \theta&lt;\theta_\textrm{inflect}, \end{cases}\] <p>where $A = (1 + n(\frac{\pi}{2 \theta_\textrm{inflect}} - 1))^{-1}$.</p> <p>The angle-dependent sputtering yield is defined as:</p> <p>\begin{equation} Y(\theta) = (1 + B_{sp}(1-\cos^2(\theta)))\cos(\theta). \end{equation}</p> <h2 id="implementation"> <a href="#implementation" class="anchor-heading" aria-labelledby="implementation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Implementation </h2> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// default empty constructor</span>
<span class="n">MultiParticleProcess</span><span class="p">()</span>

<span class="c1">// member functions</span>
<span class="kt">void</span> <span class="n">addNeutralParticle</span><span class="p">(</span><span class="n">NumericType</span> <span class="n">stickingProbability</span><span class="p">,</span>
                        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">label</span> <span class="o">=</span> <span class="s">"neutralFlux"</span><span class="p">)</span>

<span class="kt">void</span> <span class="n">addNeutralParticle</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">Material</span><span class="p">,</span> <span class="n">NumericType</span><span class="o">&gt;</span> <span class="n">materialSticking</span><span class="p">,</span>
                        <span class="n">NumericType</span> <span class="n">defaultStickingProbability</span> <span class="o">=</span> <span class="mf">1.</span><span class="p">,</span>
                        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">label</span> <span class="o">=</span> <span class="s">"neutralFlux"</span><span class="p">)</span>

<span class="kt">void</span> <span class="n">addIonParticle</span><span class="p">(</span><span class="n">NumericType</span> <span class="n">sourceExponent</span><span class="p">,</span> 
                    <span class="n">NumericType</span> <span class="n">thetaRMin</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span>
                    <span class="n">NumericType</span> <span class="n">thetaRMax</span> <span class="o">=</span> <span class="mf">90.</span><span class="p">,</span> 
                    <span class="n">NumericType</span> <span class="n">minAngle</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span>
                    <span class="n">NumericType</span> <span class="n">B_sp</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.</span><span class="p">,</span>
                    <span class="n">NumericType</span> <span class="n">meanEnergy</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span>
                    <span class="n">NumericType</span> <span class="n">sigmaEnergy</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span>
                    <span class="n">NumericType</span> <span class="n">thresholdEnergy</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> 
                    <span class="n">NumericType</span> <span class="n">inflectAngle</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> 
                    <span class="n">NumericType</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">label</span> <span class="o">=</span> <span class="s">"ionFlux"</span><span class="p">)</span>

<span class="kt">void</span> <span class="n">setRateFunction</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="p">,</span> 
                                               <span class="k">const</span> <span class="n">Material</span> <span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">rateFunction</span><span class="p">)</span>

</code></pre></div></div> <div class="table-wrapper"><table> <thead> <tr> <th>Parameter</th> <th>Description</th> <th>Default Value</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">stickingProbability</code></td> <td>Sticking probability of the neutral particle</td> <td>-</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">sourceExponent</code></td> <td>Exponent of the power cosine distribution for the initial directions of ions</td> <td>-</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">thetaRMin</code></td> <td>$\theta_{min}$ in the ion sticking function</td> <td>0.0</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">thetaRMax</code></td> <td>$\theta_{max}$ in the ion sticking function</td> <td>90.0</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">minAngle</code></td> <td>Minimum angle for the ion reflection</td> <td>0.0</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">B_sp</code></td> <td>Sputtering yield parameter</td> <td>-1.0</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">meanEnergy</code></td> <td>Mean initial energy of the ions</td> <td>0.0</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">sigmaEnergy</code></td> <td>Standard deviation of the initial energy of the ions</td> <td>0.0</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">thresholdEnergy</code></td> <td>Threshold energy for ion sputtering</td> <td>0.0</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">inflectAngle</code></td> <td>Inflection angle of the ion energy reduction function</td> <td>0.0</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">n</code></td> <td>Exponent of the ion energy reduction function</td> <td>1.0</td> </tr> </tbody> </table></div> <p>The sticking probability of the neutral particle can also be specified for each material within the domain using a map between material and sticking probability.</p> <p><strong>Example usage</strong>:</p> <details> <summary> <p class="label label-blue">C++</p> </summary> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="k">auto</span> <span class="n">model</span> <span class="o">=</span> <span class="n">SmartPointer</span><span class="o">&lt;</span><span class="n">MultiParticleProcess</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="p">,</span> <span class="n">D</span><span class="o">&gt;&gt;::</span><span class="n">New</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">Material</span><span class="p">,</span> <span class="n">NumericType</span><span class="o">&gt;</span> <span class="n">materialSticking</span><span class="p">{{</span><span class="n">Material</span><span class="o">::</span><span class="n">Si</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">},</span> <span class="p">{</span><span class="n">Material</span><span class="o">::</span><span class="n">Mask</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">}};</span>
<span class="n">model</span><span class="o">-&gt;</span><span class="n">addNeutralParticle</span><span class="p">(</span><span class="n">materialSticking</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span> <span class="c1">// default sticking probability of 1 on all other materials</span>
<span class="n">model</span><span class="o">-&gt;</span><span class="n">addIonParticle</span><span class="p">(</span><span class="mf">1000.</span><span class="p">);</span>

<span class="c1">// for material specific rates</span>
<span class="k">auto</span> <span class="n">rateFunction</span> <span class="o">=</span> <span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">fluxes</span><span class="p">,</span> <span class="k">const</span> <span class="n">Material</span> <span class="o">&amp;</span><span class="n">material</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// fluxes contains the neutral flux at first index and ion flux at second index</span>
        <span class="k">return</span> <span class="n">material</span> <span class="o">==</span> <span class="n">Material</span><span class="o">::</span><span class="n">Si</span> <span class="o">?</span> <span class="o">-</span><span class="p">(</span><span class="n">fluxes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">fluxes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">:</span> <span class="mf">0.</span><span class="p">;</span>
<span class="p">};</span>
<span class="n">model</span><span class="o">-&gt;</span><span class="n">setRateFunction</span><span class="p">(</span><span class="n">rateFunction</span><span class="p">);</span>

<span class="p">...</span>
</code></pre></div> </div> </details> <details> <summary> <p class="label label-green">Python</p> </summary> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">...</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">vps</span><span class="p">.</span><span class="nc">MultiParticleProcess</span><span class="p">()</span>
<span class="n">materialSticking</span> <span class="o">=</span> <span class="p">{</span><span class="n">vps</span><span class="p">.</span><span class="n">Material</span><span class="p">.</span><span class="n">Si</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">vps</span><span class="p">.</span><span class="n">Material</span><span class="p">.</span><span class="n">Mask</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span>
<span class="n">model</span><span class="p">.</span><span class="nf">addNeutralParticle</span><span class="p">(</span><span class="n">materialSticking</span><span class="p">,</span> <span class="n">defaultStickingProbability</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="nf">addIonParticle</span><span class="p">(</span><span class="mf">1000.</span><span class="p">)</span>

<span class="c1"># for material specific rates
</span><span class="k">def</span> <span class="nf">rateFunction</span><span class="p">(</span><span class="n">fluxes</span><span class="p">,</span> <span class="n">material</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">material</span> <span class="o">==</span> <span class="n">vps</span><span class="p">.</span><span class="n">Material</span><span class="p">.</span><span class="n">Si</span><span class="p">:</span>
        <span class="c1"># fluxes contains the neutral flux at first index and ion flux at second index
</span>        <span class="k">return</span> <span class="o">-</span><span class="nf">sum</span><span class="p">(</span><span class="n">fluxes</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mf">0.</span>

<span class="n">model</span><span class="p">.</span><span class="nf">setRateFunction</span><span class="p">(</span><span class="n">rateFunction</span><span class="p">)</span>
<span class="bp">...</span>
</code></pre></div> </div> </details> <h2 id="related-examples"> <a href="#related-examples" class="anchor-heading" aria-labelledby="related-examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Related Examples </h2> <ul> <li><a href="https://github.com/ViennaTools/ViennaPS/tree/master/examples/boschProcess">Bosch Process</a></li> </ul> </main> <hr> <footer> <div class="d-flex mt-2"> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
