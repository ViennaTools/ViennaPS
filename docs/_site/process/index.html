<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(8)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(8) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(8) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(8) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/assets/images/logo.png" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Running a Process | ViennaPS Documentation</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Running a Process" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="The documentation for ViennaPS" /> <meta property="og:description" content="The documentation for ViennaPS" /> <link rel="canonical" href="http://localhost:4000/process/" /> <meta property="og:url" content="http://localhost:4000/process/" /> <meta property="og:site_name" content="ViennaPS Documentation" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Running a Process" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"The documentation for ViennaPS","headline":"Running a Process","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/logo.png"}},"url":"http://localhost:4000/process/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"><img src="/assets/images/logo.png" alt="Logo" class="logo"><pre> </pre><p style="color:rgb(0, 80, 119);font-size:140%;">ViennaPS</p></a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/deps/" class="nav-list-link">Dependencies</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Installing the Library category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/inst/" class="nav-list-link">Installing the Library</a><ul class="nav-list"><li class="nav-list-item"><a href="/inst/gpu.html" class="nav-list-link">GPU Module</a></li><li class="nav-list-item"><a href="/inst/troubleshooting.html" class="nav-list-link">Troubleshooting</a></li></ul></li><li class="nav-list-item"><a href="/general/" class="nav-list-link">General Notes</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Simulation Domain category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/domain/" class="nav-list-link">Simulation Domain</a><ul class="nav-list"><li class="nav-list-item"><a href="/domain/surface.html" class="nav-list-link">Surface and Material Interfaces</a></li><li class="nav-list-item"><a href="/domain/volume.html" class="nav-list-link">Volume</a></li><li class="nav-list-item"><a href="/domain/material.html" class="nav-list-link">Material Mapping</a></li><li class="nav-list-item"><a href="/domain/functions.html" class="nav-list-link">Member Functions</a></li><li class="nav-list-item"><a href="/domain/setup.html" class="nav-list-link">Domain Setup</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Creating a Geometry category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/geo/" class="nav-list-link">Creating a Geometry</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Geometry Builders category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/geo/basic/" class="nav-list-link">Geometry Builders</a><ul class="nav-list"><li class="nav-list-item"> <a href="/geo/basic/plane.html" class="nav-list-link">Plane Geometry</a> </li><li class="nav-list-item"> <a href="/geo/basic/trench.html" class="nav-list-link">Trench Geometry</a> </li><li class="nav-list-item"> <a href="/geo/basic/hole.html" class="nav-list-link">Hole Geometry</a> </li><li class="nav-list-item"> <a href="/geo/basic/fin.html" class="nav-list-link">Fin Geometry</a> </li><li class="nav-list-item"> <a href="/geo/basic/stack.html" class="nav-list-link">Stack Geometry</a> </li></ul></li><li class="nav-list-item"><a href="/geo/custom.html" class="nav-list-link">Custom Geometry</a></li><li class="nav-list-item"><a href="/geo/gdsimport.html" class="nav-list-link">GDS File Import</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Process Models category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/models/" class="nav-list-link">Process Models</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Custom Models category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/models/custom/" class="nav-list-link">Custom Models</a><ul class="nav-list"><li class="nav-list-item"> <a href="/models/custom/surfaceModel.html" class="nav-list-link">Surface Model</a> </li><li class="nav-list-item"> <a href="/models/custom/velocityField.html" class="nav-list-link">Velocity Field</a> </li><li class="nav-list-item"> <a href="/models/custom/particle.html" class="nav-list-link">Particles - Flux Calculation</a> </li><li class="nav-list-item"> <a href="/models/custom/sourceDirection.html" class="nav-list-link">Primary Source Direction</a> </li><li class="nav-list-item"> <a href="/models/custom/advectionCallback.html" class="nav-list-link">Advection Callback</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Pre-Built Models category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/models/prebuilt/" class="nav-list-link">Pre-Built Models</a><ul class="nav-list"><li class="nav-list-item"> <a href="/models/prebuilt/isotropic.html" class="nav-list-link">Isotropic Process</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/anisotropic.html" class="nav-list-link">Anisotropic Process</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/directional.html" class="nav-list-link">Directional Process</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/singleParticle.html" class="nav-list-link">Single Particle Process</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/multiParticle.html" class="nav-list-link">Multi Particle Process</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/TEOSPECVD.html" class="nav-list-link">TEOSPECVD Process</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/SF6O2Etching.html" class="nav-list-link">SF<sub>6</sub>O<sub>2</sub> Etching</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/fluorocarbonEtching.html" class="nav-list-link">Fluorocarbon Etching</a> </li><li class="nav-list-item"> <a href="/models/prebuilt/oxideRegrowth.html" class="nav-list-link">Oxide Regrowth</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="/process/" class="nav-list-link">Running a Process</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Geometry Output category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/output/" class="nav-list-link">Geometry Output</a><ul class="nav-list"><li class="nav-list-item"><a href="/output/levelset.html" class="nav-list-link">Level Set</a></li><li class="nav-list-item"><a href="/output/surface.html" class="nav-list-link">Surface Mesh</a></li><li class="nav-list-item"><a href="/output/volume.html" class="nav-list-link">Volume Mesh</a></li><li class="nav-list-item"><a href="/output/metadata.html" class="nav-list-link">VTK Metadata Export</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Miscellaneous category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/misc/" class="nav-list-link">Miscellaneous</a><ul class="nav-list"><li class="nav-list-item"><a href="/misc/planarize.html" class="nav-list-link">Planarize Geometry</a></li><li class="nav-list-item"><a href="/misc/extrusion.html" class="nav-list-link">Geometry Extrusion</a></li><li class="nav-list-item"><a href="/misc/logging.html" class="nav-list-link">Logging</a></li><li class="nav-list-item"><a href="/misc/units.html" class="nav-list-link">Units</a></li></ul></li><li class="nav-list-item"><a href="/examples/" class="nav-list-link">Examples</a></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/ViennaTools/ViennaPS" class="nav-list-link external" > ViennaPS on Github <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search ViennaPS Documentation" aria-label="Search ViennaPS Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/ViennaTools/ViennaPS" class="site-button" > ViennaPS on Github </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 class="fs-9 fw-700" id="running-a-process"> <a href="#running-a-process" class="anchor-heading" aria-labelledby="running-a-process"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running a Process </h1> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;psProcess.hpp&gt;</span><span class="cp">
</span></code></pre></div></div><hr /> <p><img src="/assets/images/process.png" alt="" /></p><hr /> <p>The <code class="language-plaintext highlighter-rouge">Process</code> class functions as the primary simulation interface, consolidating crucial elements such as the simulation domain, process model, process duration, and requisite ray-tracing parameters. This interface also contains the necessary methods for configuring these attributes. Upon setting these parameters, the <code class="language-plaintext highlighter-rouge">apply()</code> method is employed to execute the process,.</p> <p><strong>Example usage:</strong></p> <details> <summary> <p class="label label-blue">C++</p> </summary> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// namespace viennaps</span>
<span class="p">...</span>
<span class="n">Process</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="p">,</span> <span class="n">D</span><span class="o">&gt;</span> <span class="n">process</span><span class="p">;</span>
<span class="n">process</span><span class="p">.</span><span class="n">setDomain</span><span class="p">(</span><span class="n">myDomain</span><span class="p">);</span>
<span class="n">process</span><span class="p">.</span><span class="n">setProcessModel</span><span class="p">(</span><span class="n">myModel</span><span class="p">);</span>
<span class="n">process</span><span class="p">.</span><span class="n">setProcessDuration</span><span class="p">(</span><span class="mf">10.</span><span class="p">);</span>
<span class="n">process</span><span class="p">.</span><span class="n">apply</span><span class="p">();</span>
<span class="p">...</span>
</code></pre></div> </div> </details> <details> <summary> <p class="label label-green">Python</p> </summary> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">...</span>
<span class="n">process</span> <span class="o">=</span> <span class="n">vps</span><span class="p">.</span><span class="nc">Process</span><span class="p">()</span>
<span class="n">process</span><span class="p">.</span><span class="nf">setDomain</span><span class="p">(</span><span class="n">myDomain</span><span class="p">)</span>
<span class="n">process</span><span class="p">.</span><span class="nf">setProcessModel</span><span class="p">(</span><span class="n">myModel</span><span class="p">)</span>
<span class="n">process</span><span class="p">.</span><span class="nf">setProcessDuration</span><span class="p">(</span><span class="mf">10.</span><span class="p">)</span>
<span class="n">process</span><span class="p">.</span><span class="nf">apply</span><span class="p">()</span>
<span class="bp">...</span>
</code></pre></div> </div> </details> <h2 id="process-parameters"> <a href="#process-parameters" class="anchor-heading" aria-labelledby="process-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Process Parameters </h2> <blockquote class="note"> <p>Advanced process parameters, as described in this section are available from version 3.3.0</p> </blockquote> <p>Expert users can set specific parameter for the Level-Set integration and Ray Tracing flux calculation steps using the advanced parameters structs <code class="language-plaintext highlighter-rouge">AdvectionParameters</code> and <code class="language-plaintext highlighter-rouge">RayTracingParameters</code>. These parameter structs contain:</p> <p><strong>AdvectionParameters:</strong></p> <div class="table-wrapper"><table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Default Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">integrationScheme</code></td> <td><code class="language-plaintext highlighter-rouge">IntegrationSchemeEnum</code></td> <td><code class="language-plaintext highlighter-rouge">ENGQUIST_OSHER_1ST_ORDER</code></td> <td>Integration scheme used for advection. For options see <a href="https://viennatools.github.io/ViennaLS/namespaceviennals.html#a939e6f11eed9a003a0723a255290377f">here</a>.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">timeStepRatio</code></td> <td><code class="language-plaintext highlighter-rouge">NumericType</code></td> <td><code class="language-plaintext highlighter-rouge">0.4999</code></td> <td>Ratio controlling the time step specified by the CFL condition. More <a href="https://viennatools.github.io/ViennaLS/classviennals_1_1Advect.html#ad6aba52d0b3c5fb9fcb4e83da138573c">details</a></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">dissipationAlpha</code></td> <td><code class="language-plaintext highlighter-rouge">NumericType</code></td> <td><code class="language-plaintext highlighter-rouge">1.0</code></td> <td>Factor controlling dissipation in Lax-Friedrichs type integration schemes.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">velocityOutput</code></td> <td><code class="language-plaintext highlighter-rouge">bool</code></td> <td><code class="language-plaintext highlighter-rouge">false</code></td> <td>Whether to output velocity data for each advection step.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">ignoreVoids</code></td> <td><code class="language-plaintext highlighter-rouge">bool</code></td> <td><code class="language-plaintext highlighter-rouge">false</code></td> <td>Whether to ignore void regions.</td> </tr> </tbody> </table></div> <p><strong>RayTracingParameters:</strong></p> <div class="table-wrapper"><table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Default Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">sourceDirection</code></td> <td><code class="language-plaintext highlighter-rouge">TraceDirection</code></td> <td><code class="language-plaintext highlighter-rouge">POS_Z</code> (if <code class="language-plaintext highlighter-rouge">D == 3</code>), <code class="language-plaintext highlighter-rouge">POS_Y</code> (otherwise)</td> <td>Direction of the ray source.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">normalizationType</code></td> <td><code class="language-plaintext highlighter-rouge">NormalizationType</code></td> <td><code class="language-plaintext highlighter-rouge">SOURCE</code></td> <td>Type of normalization used. Other option <code class="language-plaintext highlighter-rouge">MAX</code>.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">raysPerPoint</code></td> <td><code class="language-plaintext highlighter-rouge">unsigned</code></td> <td><code class="language-plaintext highlighter-rouge">1000</code></td> <td>Number of rays to trace per point in the geometry.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">diskRadius</code></td> <td><code class="language-plaintext highlighter-rouge">NumericType</code></td> <td><code class="language-plaintext highlighter-rouge">0</code></td> <td>Radius of the disks in the ray tracing geometry. If this value is 0 the default disk radius is used, which is the minimum radius such that there are no holes in the geometry.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">useRandomSeeds</code></td> <td><code class="language-plaintext highlighter-rouge">bool</code></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> <td>Whether to use random seeds.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">ignoreFluxBoundaries</code></td> <td><code class="language-plaintext highlighter-rouge">bool</code></td> <td><code class="language-plaintext highlighter-rouge">false</code></td> <td>Whether to ignore boundary condtions during ray tracing.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">smoothingNeighbors</code></td> <td><code class="language-plaintext highlighter-rouge">int</code></td> <td><code class="language-plaintext highlighter-rouge">1</code></td> <td>Number of neighboring points used for smoothing the flux after ray tracing.</td> </tr> </tbody> </table></div> <p><strong>Example usage:</strong></p> <details> <summary> <p class="label label-blue">C++</p> </summary> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// namespace viennaps</span>
<span class="p">...</span>
<span class="n">AdvectionParameters</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="o">&gt;</span> <span class="n">advParams</span><span class="p">;</span>
<span class="n">advParams</span><span class="p">.</span><span class="n">integrationScheme</span> <span class="o">=</span> <span class="n">viennals</span><span class="o">::</span><span class="n">IntegrationSchemeEnum</span><span class="o">::</span><span class="n">LOCAL_LAX_FRIEDRICHS_2ND_ORDER</span>
<span class="n">advParams</span><span class="p">.</span><span class="n">timeStepRatio</span> <span class="o">=</span> <span class="mf">0.25</span>
<span class="n">advParams</span><span class="p">.</span><span class="n">dissipationAlpha</span> <span class="o">=</span> <span class="mf">2.0</span>

<span class="n">RayTracingParameters</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="p">,</span> <span class="n">D</span><span class="o">&gt;</span> <span class="n">tracingParams</span><span class="p">;</span>
<span class="n">tracingParams</span><span class="p">.</span><span class="n">raysPerPoint</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">tracingParams</span><span class="p">.</span><span class="n">smoothingNeighbors</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">// disable flux smoothing</span>

<span class="n">Process</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="p">,</span> <span class="n">D</span><span class="o">&gt;</span> <span class="n">process</span><span class="p">(</span><span class="n">myDomain</span><span class="p">,</span> <span class="n">myModel</span><span class="p">,</span> <span class="n">duration</span><span class="p">);</span>
<span class="n">process</span><span class="p">.</span><span class="n">setAdvectionParameters</span><span class="p">(</span><span class="n">advParams</span><span class="p">)</span>
<span class="n">process</span><span class="p">.</span><span class="n">setRayTracingParameters</span><span class="p">(</span><span class="n">tracingParams</span><span class="p">)</span>
<span class="n">process</span><span class="p">.</span><span class="n">apply</span><span class="p">();</span>
<span class="p">...</span>
</code></pre></div> </div> </details> <details> <summary> <p class="label label-green">Python</p> </summary> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">...</span>
<span class="n">advParams</span> <span class="o">=</span> <span class="n">vps</span><span class="p">.</span><span class="nc">AdvectionParameters</span><span class="p">()</span>
<span class="n">advParams</span><span class="p">.</span><span class="n">integrationScheme</span> <span class="o">=</span> <span class="n">vps</span><span class="p">.</span><span class="n">ls</span><span class="p">.</span><span class="n">IntegrationSchemeEnum</span><span class="p">.</span><span class="n">LOCAL_LAX_FRIEDRICHS_2ND_ORDER</span>
<span class="n">advParams</span><span class="p">.</span><span class="n">timeStepRatio</span> <span class="o">=</span> <span class="mf">0.25</span>
<span class="n">advParams</span><span class="p">.</span><span class="n">dissipationAlpha</span> <span class="o">=</span> <span class="mf">2.0</span>

<span class="n">tracingParams</span> <span class="o">=</span> <span class="n">vps</span><span class="p">.</span><span class="nc">RayTracingParameters</span><span class="p">()</span>
<span class="n">tracingParams</span><span class="p">.</span><span class="n">raysPerPoint</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">tracingParams</span><span class="p">.</span><span class="n">smoothingNeighbors</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># disable flux smoothing
</span>
<span class="n">process</span> <span class="o">=</span> <span class="n">vps</span><span class="p">.</span><span class="nc">Process</span><span class="p">(</span><span class="n">myDomain</span><span class="p">,</span> <span class="n">myModel</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
<span class="n">process</span><span class="p">.</span><span class="nf">setAdvectionParameters</span><span class="p">(</span><span class="n">advParams</span><span class="p">)</span>
<span class="n">process</span><span class="p">.</span><span class="nf">setRayTracingParameters</span><span class="p">(</span><span class="n">tracingParams</span><span class="p">)</span>
<span class="n">process</span><span class="p">.</span><span class="nf">apply</span><span class="p">()</span>
<span class="bp">...</span>
</code></pre></div> </div> </details> <h2 id="member-functions"> <a href="#member-functions" class="anchor-heading" aria-labelledby="member-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Member Functions </h2> <h3 id="constructors"> <a href="#constructors" class="anchor-heading" aria-labelledby="constructors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Constructors </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Default constructor</span>
<span class="n">Process</span><span class="p">()</span>
<span class="c1">// Constructor from domain</span>
<span class="n">Process</span><span class="p">(</span><span class="n">SmartPointer</span><span class="o">&lt;</span><span class="n">Domain</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="p">,</span> <span class="n">D</span><span class="o">&gt;&gt;</span> <span class="n">passedDomain</span><span class="p">)</span>
<span class="c1">// Constructor from domain, process model, and duration, </span>
<span class="c1">// to apply simple processes</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="nc">ProcessModelType</span><span class="p">&gt;</span>
<span class="n">Process</span><span class="p">(</span><span class="n">SmartPointer</span><span class="o">&lt;</span><span class="n">Domain</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="p">,</span> <span class="n">D</span><span class="o">&gt;&gt;</span> <span class="n">passedDomain</span><span class="p">,</span>
        <span class="n">SmartPointer</span><span class="o">&lt;</span><span class="n">ProcessModelType</span><span class="o">&gt;</span> <span class="n">passedProcessModel</span><span class="p">,</span>
        <span class="k">const</span> <span class="n">NumericType</span> <span class="n">passedDuration</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
</code></pre></div></div> <p>In summary, these constructors provide different ways to create a <code class="language-plaintext highlighter-rouge">Process</code> object, allowing for flexibility depending on what data is available at the time of object creation.</p> <ol> <li>The first constructor is a default constructor. It’s defined as <code class="language-plaintext highlighter-rouge">Process()</code> and it doesn’t take any arguments. This constructor allows for the creation of a <code class="language-plaintext highlighter-rouge">Process</code> object without any initial values.</li> <li>The second constructor takes a single argument: a smart pointer to a <code class="language-plaintext highlighter-rouge">Domain</code> object. This constructor initializes the domain member variable of the <code class="language-plaintext highlighter-rouge">Process</code> class with the passed <code class="language-plaintext highlighter-rouge">Domain</code> object.</li> <li>The third constructor is a template constructor that takes three arguments: a smart pointer to a <code class="language-plaintext highlighter-rouge">Domain</code> object, a smart pointer to a <code class="language-plaintext highlighter-rouge">ProcessModelType</code> object, and a <code class="language-plaintext highlighter-rouge">NumericType</code> representing the process duration. This constructor initializes the domain and processDuration member variables with the passed values and also sets the model member variable to the dynamically cast ProcessModelType object. This allows the user to run a process from an anonymous object. For example: <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Process</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="p">,</span> <span class="n">D</span><span class="o">&gt;</span><span class="p">(</span><span class="n">myDomain</span><span class="p">,</span> <span class="n">myModel</span><span class="p">,</span> <span class="n">processDuration</span><span class="p">).</span><span class="n">apply</span><span class="p">()</span>
</code></pre></div> </div> </li> </ol><hr /> <h3 id="set-the-domain"> <a href="#set-the-domain" class="anchor-heading" aria-labelledby="set-the-domain"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set the domain </h3> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">setDomain</span><span class="p">(</span><span class="n">SmartPointer</span><span class="o">&lt;</span><span class="n">Domain</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="p">,</span> <span class="n">D</span><span class="o">&gt;&gt;</span> <span class="n">passedDomain</span><span class="p">)</span>
</code></pre></div></div> <p>Sets the process domain.</p><hr /> <h3 id="set-the-process-model"> <a href="#set-the-process-model" class="anchor-heading" aria-labelledby="set-the-process-model"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set the process model </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">setProcessModel</span><span class="p">(</span><span class="n">SmartPointer</span><span class="o">&lt;</span><span class="n">ProcessModel</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="p">,</span> <span class="n">D</span><span class="o">&gt;&gt;</span> <span class="n">passedProcessModel</span><span class="p">)</span>
</code></pre></div></div> <p>Sets the process model. This can be either a pre-configured process model or a custom process model.</p><hr /> <h3 id="set-the-source-direction"> <a href="#set-the-source-direction" class="anchor-heading" aria-labelledby="set-the-source-direction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set the source direction </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">setSourceDirection</span><span class="p">(</span><span class="k">const</span> <span class="n">viennaray</span><span class="o">::</span><span class="n">TraceDirection</span> <span class="n">passedDirection</span><span class="p">)</span>
</code></pre></div></div> <p>Set the source direction, where the rays should be traced from. The passed direction parameter is using the enum <code class="language-plaintext highlighter-rouge">viennaray::TraceDirection</code> which contains the following values: <code class="language-plaintext highlighter-rouge">POS_X</code>, <code class="language-plaintext highlighter-rouge">NEG_X</code>, <code class="language-plaintext highlighter-rouge">POS_Y</code>, <code class="language-plaintext highlighter-rouge">NEG_Y</code>, <code class="language-plaintext highlighter-rouge">POS_Z</code>, <code class="language-plaintext highlighter-rouge">NEG_Z</code>.</p><hr /> <h3 id="set-the-process-duration"> <a href="#set-the-process-duration" class="anchor-heading" aria-labelledby="set-the-process-duration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set the process duration </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">setProcessDuration</span><span class="p">(</span><span class="n">NumericType</span> <span class="n">passedDuration</span><span class="p">)</span>
</code></pre></div></div> <p>Specifies the duration of the process. If the process duration is set to 0, exclusively the advection callback <code class="language-plaintext highlighter-rouge">applyPreAdvect()</code> is executed on the domain. This feature is particularly useful for applying only a volume model without engaging in further simulation steps.</p><hr /> <h3 id="single-pass-flux-calculation"> <a href="#single-pass-flux-calculation" class="anchor-heading" aria-labelledby="single-pass-flux-calculation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Single-Pass Flux Calculation </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">SmartPointer</span><span class="o">&lt;</span><span class="n">viennals</span><span class="o">::</span><span class="n">Mesh</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="o">&gt;&gt;</span> <span class="n">calculateFlux</span><span class="p">()</span>
</code></pre></div></div> <p>Calculate the flux(es) for the current process. This function returns a smart pointer to a <code class="language-plaintext highlighter-rouge">viennals::Mesh&lt;NumericType&gt;</code> object containing the disk mesh and flux data.</p><hr /> <h3 id="set-the-number-of-coverage-initialization-iterations"> <a href="#set-the-number-of-coverage-initialization-iterations" class="anchor-heading" aria-labelledby="set-the-number-of-coverage-initialization-iterations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set the number of coverage initialization iterations </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">setMaxCoverageInitIterations</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">numIter</span><span class="p">)</span>
</code></pre></div></div> <p>Set the maximum number of iterations to initialize the coverages. If additionally the coverage delta threshold is set, the coverage initialization is considered converged if the coverage delta is below the threshold or the maximum number of iterations is reached.</p><hr /> <h3 id="set-coverage-delta-threshold"> <a href="#set-coverage-delta-threshold" class="anchor-heading" aria-labelledby="set-coverage-delta-threshold"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set coverage delta threshold </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">setCoverageDeltaThreshold</span><span class="p">(</span><span class="n">NumericType</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></div> <p>Set the threshold for the coverage delta metric to reach convergence. If the coverage delta is below this threshold, the coverage initialization is considered converged. During a process, if the coverage delta is higher than this threshold, the flux calculation is repeated.</p><hr /> <h3 id="set-the-advection-parameters"> <a href="#set-the-advection-parameters" class="anchor-heading" aria-labelledby="set-the-advection-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set the advection parameters </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">setAdvectionParameters</span><span class="p">(</span><span class="k">const</span> <span class="n">AdvectionParameters</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="o">&gt;&amp;</span> <span class="n">passedAdvectionParameters</span><span class="p">)</span>
</code></pre></div></div> <p>Set the advection parameters for the level-set integration. The advection parameters are defined in the <code class="language-plaintext highlighter-rouge">AdvectionParameters</code> struct.</p><hr /> <h3 id="set-the-ray-tracing-parameters"> <a href="#set-the-ray-tracing-parameters" class="anchor-heading" aria-labelledby="set-the-ray-tracing-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set the ray tracing parameters </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">setRayTracingParameters</span><span class="p">(</span><span class="k">const</span> <span class="n">RayTracingParameters</span><span class="o">&lt;</span><span class="n">NumericType</span><span class="p">,</span> <span class="n">D</span><span class="o">&gt;&amp;</span> <span class="n">passedRayTracingParameters</span><span class="p">)</span>
</code></pre></div></div> <p>Set the ray tracing parameters for the flux calculation. The ray tracing parameters are defined in the <code class="language-plaintext highlighter-rouge">RayTracingParameters</code> struct.</p><hr /> <blockquote class="note"> <p>The following functions are used to set parameters in the <code class="language-plaintext highlighter-rouge">AdvectionParameters</code> and <code class="language-plaintext highlighter-rouge">RayTracingParameters</code> structs. From version <strong>3.3.0</strong>, it is recommended to use the <code class="language-plaintext highlighter-rouge">setAdvectionParameters</code> and <code class="language-plaintext highlighter-rouge">setRayTracingParameters</code> functions to set these parameters.</p> </blockquote><hr /> <h3 id="set-the-number-of-rays-to-be-traced"> <a href="#set-the-number-of-rays-to-be-traced" class="anchor-heading" aria-labelledby="set-the-number-of-rays-to-be-traced"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set the number of rays to be traced </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">setNumberOfRaysPerPoint</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">raysPerPoint</span><span class="p">)</span>
</code></pre></div></div> <p>Specify the number of rays to be traced for each particle throughout the process. The total count of rays is the product of this number and the number of points in the process geometry.</p><hr /> <h3 id="enable-or-disable-flux-smoothing"> <a href="#enable-or-disable-flux-smoothing" class="anchor-heading" aria-labelledby="enable-or-disable-flux-smoothing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enable or disable flux smoothing </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">enableFluxSmoothing</span><span class="p">()</span>
<span class="kt">void</span> <span class="n">disableFluxSmoothing</span><span class="p">()</span>
</code></pre></div></div> <p>Toggle the option to enable or disable flux smoothing. When flux smoothing is activated, the flux at each surface point, computed by the ray tracer, undergoes averaging across the neighboring surface points. Per default, flux smoothing is enabled.</p><hr /> <h3 id="enable-or-disable-flux-boundary-conditions"> <a href="#enable-or-disable-flux-boundary-conditions" class="anchor-heading" aria-labelledby="enable-or-disable-flux-boundary-conditions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enable or disable flux boundary conditions </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">enableFluxBoundaries</span><span class="p">()</span>
<span class="kt">void</span> <span class="n">disableFluxBoundaries</span><span class="p">()</span>
</code></pre></div></div> <p>Toggle the option to enable or disable flux boundary conditions. When flux boundary conditions are disabled, particles are allowed to leave the domain without being reflected back into the domain. Per default, flux boundary conditions are enabled.</p><hr /> <h3 id="enable-or-disable-random-seeds"> <a href="#enable-or-disable-random-seeds" class="anchor-heading" aria-labelledby="enable-or-disable-random-seeds"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enable or disable random seeds </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">enableRandomSeeds</span><span class="p">()</span>
<span class="kt">void</span> <span class="n">disableRandomSeeds</span><span class="p">()</span>
</code></pre></div></div> <p>Toggle the option to enable or disable random seeds. When random seeds are enabled, the random number generator is seeded with a random value, making the results generally not perfectly reproducible. Per default, random seeds are enabled.</p><hr /> <h3 id="set-the-integration-scheme"> <a href="#set-the-integration-scheme" class="anchor-heading" aria-labelledby="set-the-integration-scheme"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set the integration scheme </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span>
<span class="n">setIntegrationScheme</span><span class="p">(</span><span class="n">lsIntegrationSchemeEnum</span> <span class="n">passedIntegrationScheme</span><span class="p">)</span>
</code></pre></div></div> <p>Set the integration scheme for solving the level-set equation. Possible integration schemes are specified in <a href="https://viennatools.github.io/ViennaLS/namespaceviennals.html#a939e6f11eed9a003a0723a255290377f"><code class="language-plaintext highlighter-rouge">viennals::IntegrationSchemeEnum</code></a>.</p><hr /> <h3 id="set-the-time-step-ratio"> <a href="#set-the-time-step-ratio" class="anchor-heading" aria-labelledby="set-the-time-step-ratio"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set the time step ratio </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">setTimeStepRatio</span><span class="p">(</span><span class="n">NumericType</span> <span class="n">cfl</span><span class="p">)</span>
</code></pre></div></div> <p>Set the CFL (Courant-Friedrichs-Levy) condition to use during surface advection in the level-set. The CFL condition defines the maximum distance a surface is allowed to move in a single advection step. It MUST be below 0.5 to guarantee numerical stability. Defaults to 0.4999.</p> </main> <hr> <footer> <div class="d-flex mt-2"> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
